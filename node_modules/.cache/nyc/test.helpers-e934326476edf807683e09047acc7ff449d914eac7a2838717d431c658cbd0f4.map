{"version":3,"sources":["test.helpers.js"],"names":["setDatabaseData","collectionName","data","MongoClient","connect","useNewUrlParser","useUnifiedTopology","client","db","collection","insertMany","close","getDatabaseData","find","toArray","result","resetDatabase","dropDatabase"],"mappings":";;;;;;;AAAA;;;;;;AAEO,IAAMA,eAAe;AAAA,qEAAG,iBAAMC,cAAN,EAAsBC,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACNC,qBAAYC,OAAZ,sCAEjB;AACIC,cAAAA,eAAe,EAAE,IADrB;AAEIC,cAAAA,kBAAkB,EAAE;AAFxB,aAFiB,CADM;;AAAA;AACrBC,YAAAA,MADqB;AAQrBC,YAAAA,EARqB,GAQhBD,MAAM,CAACC,EAAP,CAAU,SAAV,CARgB;AAAA;AAAA,mBAUrBA,EAAE,CAACC,UAAH,CAAcR,cAAd,EAA8BS,UAA9B,CAAyCR,IAAzC,CAVqB;;AAAA;AAW3BK,YAAAA,MAAM,CAACI,KAAP;;AAX2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfX,eAAe;AAAA;AAAA;AAAA,GAArB;;;;AAcA,IAAMY,eAAe;AAAA,sEAAG,kBAAMX,cAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACNE,qBAAYC,OAAZ,sCAEjB;AACIC,cAAAA,eAAe,EAAE,IADrB;AAEIC,cAAAA,kBAAkB,EAAE;AAFxB,aAFiB,CADM;;AAAA;AACrBC,YAAAA,MADqB;AAQrBC,YAAAA,EARqB,GAQhBD,MAAM,CAACC,EAAP,CAAU,SAAV,CARgB;AAAA;AAAA,mBASNA,EAAE,CAACC,UAAH,CAAcR,cAAd,EAA8BY,IAA9B,GAAqCC,OAArC,EATM;;AAAA;AASrBC,YAAAA,MATqB;AAU3BR,YAAAA,MAAM,CAACI,KAAP;AAV2B,8CAYpBI,MAZoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfH,eAAe;AAAA;AAAA;AAAA,GAArB;;;;AAeA,IAAMI,aAAa;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACJb,qBAAYC,OAAZ,sCAEjB;AACIC,cAAAA,eAAe,EAAE,IADrB;AAEIC,cAAAA,kBAAkB,EAAE;AAFxB,aAFiB,CADI;;AAAA;AACnBC,YAAAA,MADmB;AASnBC,YAAAA,EATmB,GASdD,MAAM,CAACC,EAAP,CAAU,SAAV,CATc;AAAA;AAAA,mBAUnBA,EAAE,CAACS,YAAH,EAVmB;;AAAA;AAWzBV,YAAAA,MAAM,CAACI,KAAP;;AAXyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAbK,aAAa;AAAA;AAAA;AAAA,GAAnB","sourceRoot":"/home/kjack/development/likedin-learning/tdd-server/src/","sourcesContent":["import { MongoClient } from 'mongodb';\n\nexport const setDatabaseData = async(collectionName, data) => {\n    const client = await MongoClient.connect(\n        `mongodb://localhost:27017/TEST_DB`,\n        {\n            useNewUrlParser: true,\n            useUnifiedTopology: true,\n        },\n    );\n    const db = client.db('TEST_DB');\n\n    await db.collection(collectionName).insertMany(data);\n    client.close();\n}\n\nexport const getDatabaseData = async collectionName => {\n    const client = await MongoClient.connect(\n        `mongodb://localhost:27017/TEST_DB`,\n        {\n            useNewUrlParser: true,\n            useUnifiedTopology: true,\n        },\n    );\n    const db = client.db('TEST_DB');\n    const result = await db.collection(collectionName).find().toArray();\n    client.close();\n\n    return result;\n}\n\nexport const resetDatabase = async () => {\n    const client = await MongoClient.connect(\n        `mongodb://localhost:27017/TEST_DB`,\n        {\n            useNewUrlParser: true,\n            useUnifiedTopology: true,\n        },\n    );\n\n    const db = client.db('TEST_DB');\n    await db.dropDatabase();\n    client.close();\n} "]}